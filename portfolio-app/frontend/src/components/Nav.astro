---
interface Route {
  displayName: string
  route: string
}

const routes: Route[] = [
  {
    displayName: "Home",
    route: "/",
  },
  {
    displayName: "Software",
    route: "/software/",
  },
  {
    displayName: "Blog",
    route: "/blog/",
  },
  {
    displayName: "Streams",
    route: "/streams/",
  },
  {
    displayName: "Music",
    route: "/music/",
  },
  {
    displayName: "Inspirations",
    route: "/inspirations/",
  },
  {
    displayName: "Keyboards",
    route: "/keyboards/",
  },
]

function isCurrentRoute(route: string): boolean {
  let pathname = new URL(Astro.request.url).pathname

  const onBaseRoute = route.length < 2
  return onBaseRoute ? pathname === route : pathname.startsWith(route)
}
---

<nav class="sticky top-0 z-50 w-full bg-zinc-100 border-b-4 border-gray-200 shadow-none">
  <div class="max-w-7xl mx-auto flex items-center justify-around px-4 py-4">
    <!-- Logo and Title -->
    <div class="flex items-center gap-8">
      <img src="/assets/logo.svg" alt="Logo" class="h-10 w-10" />
      <span class="font-bold text-2xl tracking-tight">Maverick Espinosa</span>
    </div>
    <div class="flex gap-8 text-lg">
      {
        routes.map((route) => (
          <>
            {/* Avoid extra whitespace from formatter adding line breaks. */}
            {/* https://github.com/withastro/prettier-plugin-astro/issues/308 */}
            {/* prettier-ignore */}
            <a href={route.route} class:list={[
            "hover:cursor hover:bold hover:underline transition-all duration-200",
            isCurrentRoute(route.route) && "font-bold underline"
          ]}>{route.displayName}</a>
          </>
        ))
      }
    </div>
  </div>
</nav>