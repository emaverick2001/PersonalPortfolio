---
import AdminLayout from "@layouts/AdminLayout.astro"

const stats = [
  {
    label: "Total Blogs",
    value: "12,450",
    change: "+12%",
    trend: "up",
    spark: "M2 24 C 20 8, 38 4, 50 14 S 76 34, 98 16",
  },
  {
    label: "Total Projects",
    value: "3,210",
    change: "-2%",
    trend: "down",
    spark: "M2 10 C 22 22, 40 28, 56 22 S 84 4, 98 20",
  },
  {
    label: "Total Songs",
    value: "520",
    change: "+8%",
    trend: "up",
    spark: "M2 20 C 18 28, 42 10, 60 16 S 84 30, 98 12",
  },
]

const visits = [
  { month: "Jan", height: "60%" },
  { month: "Feb", height: "48%" },
  { month: "Mar", height: "72%" },
  { month: "Apr", height: "38%" },
  { month: "May", height: "52%" },
  { month: "Jun", height: "46%" },
]

const contentTrends = [
  { label: "Blogs", value: "72%", highlight: false },
  { label: "Projects", value: "34%", highlight: false },
  { label: "Music", value: "28%", highlight: false },
  { label: "Travel", value: "40%", highlight: true },
  { label: "Notes", value: "22%", highlight: false },
]
---

<AdminLayout title="Dashboard">
  <div class="space-y-6">
    <div>
      <p class="text-xs uppercase tracking-[0.45em] text-zinc-500 dark:text-zinc-400">
        Admin Dashboard
      </p>
      <h1 class="mt-2 text-3xl font-semibold tracking-tight text-zinc-900 dark:text-white">
        Overview
      </h1>
      <p class="mt-2 text-sm text-zinc-600 dark:text-zinc-400">
        Snapshot of your content performance and activity across the site.
      </p>
    </div>

    <section class="grid gap-4 lg:grid-cols-3">
      {
        stats.map((stat) => (
          <div class="rounded-3xl border border-zinc-200 bg-white p-5 shadow-[0_18px_45px_-35px_rgba(15,23,42,0.2)] backdrop-blur dark:border-white/10 dark:bg-white/5 dark:shadow-[0_18px_45px_-35px_rgba(15,23,42,0.7)]">
            <div class="flex items-start justify-between">
              <div>
                <p class="text-sm text-zinc-500 dark:text-zinc-300">{stat.label}</p>
                <p class="mt-2 text-2xl font-semibold text-zinc-900 dark:text-white">
                  {stat.value}
                </p>
                <div class="mt-2 flex items-center gap-2 text-xs">
                  <span
                    class={`rounded-full px-2 py-0.5 ${
                      stat.trend === "up"
                        ? "bg-emerald-100 text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-300"
                        : "bg-rose-100 text-rose-700 dark:bg-rose-500/15 dark:text-rose-300"
                    }`}
                  >
                    {stat.change}
                  </span>
                  <span class="text-zinc-500 dark:text-zinc-400">vs last month</span>
                </div>
              </div>
              <div
                class={`flex h-14 w-24 items-center justify-center rounded-2xl ${
                  stat.trend === "up"
                    ? "bg-emerald-100 dark:bg-emerald-500/10"
                    : "bg-rose-100 dark:bg-rose-500/10"
                }`}
              >
                <svg viewBox="0 0 100 40" class="h-10 w-20">
                  <path
                    d={stat.spark}
                    fill="none"
                    stroke={stat.trend === "up" ? "#34d399" : "#fb7185"}
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
            </div>
          </div>
        ))
      }
    </section>

    <section class="grid gap-4 lg:grid-cols-2">
      <div class="rounded-3xl border border-zinc-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm font-semibold text-zinc-900 dark:text-white">User Visits</p>
            <p class="mt-1 text-xs text-zinc-500 dark:text-zinc-400">
              TODO: wired to PostHog later
            </p>
          </div>
          <span class="rounded-full border border-zinc-200 px-3 py-1 text-xs text-zinc-600 dark:border-white/10 dark:text-zinc-300">
            Last 6 months
          </span>
        </div>
        <div class="mt-6 h-44 rounded-2xl border border-zinc-200/70 bg-gradient-to-b from-zinc-50 to-white p-4 dark:border-white/5 dark:from-white/5 dark:to-white/0">
          <div class="flex h-full items-end justify-between gap-3">
            {
              visits.map((visit) => (
                <div class="flex h-full w-full flex-col items-center justify-end gap-2">
                  <div
                    class="w-8 rounded-2xl bg-gradient-to-t from-indigo-500/70 via-sky-500/40 to-slate-200/80"
                    style={`height: ${visit.height};`}
                  />
                  <span class="text-[11px] uppercase tracking-[0.2em] text-zinc-500 dark:text-zinc-400">
                    {visit.month}
                  </span>
                </div>
              ))
            }
          </div>
        </div>
      </div>

      <div class="rounded-3xl border border-zinc-200 bg-white p-6 dark:border-white/10 dark:bg-white/5">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm font-semibold text-zinc-900 dark:text-white">
              Blog, Music, Project Trends
            </p>
            <p class="mt-1 text-xs text-zinc-500 dark:text-zinc-400">
              Content mix over the last quarter
            </p>
          </div>
          <span class="rounded-full border border-zinc-200 px-3 py-1 text-xs text-zinc-600 dark:border-white/10 dark:text-zinc-300">
            This quarter
          </span>
        </div>
        <div class="mt-6 flex h-44 items-end gap-4">
          {
            contentTrends.map((trend) => (
              <div class="flex w-full flex-col items-center gap-2">
                <div class="flex h-full items-end">
                  <div
                    class={`w-10 rounded-2xl ${
                      trend.highlight
                        ? "bg-indigo-500 dark:bg-indigo-400"
                        : "bg-zinc-200 dark:bg-white/15"
                    }`}
                    style={`height: ${trend.value};`}
                  />
                </div>
                <span class="text-[11px] uppercase tracking-[0.2em] text-zinc-500 dark:text-zinc-400">
                  {trend.label}
                </span>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <section class="rounded-3xl border border-zinc-200 bg-gradient-to-br from-white via-zinc-50 to-indigo-50 p-6 dark:border-white/10 dark:from-slate-900/80 dark:via-slate-950/60 dark:to-indigo-950/60">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm font-semibold text-zinc-900 dark:text-white">Geography</p>
          <p class="mt-1 text-xs text-zinc-500 dark:text-zinc-400">
            Map placeholder for future integration.
          </p>
        </div>
        <span class="rounded-full border border-zinc-200 px-3 py-1 text-xs text-zinc-600 dark:border-white/10 dark:text-zinc-300">
          24 countries
        </span>
      </div>
      <div class="mt-6 h-72 rounded-2xl border border-zinc-200 bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.18),_transparent_55%)] p-6 dark:border-white/10 dark:bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.25),_transparent_55%)]">
        <div class="flex h-full items-center justify-center rounded-2xl border border-dashed border-zinc-200 bg-white/70 dark:border-white/20 dark:bg-white/5">
          <p class="text-sm uppercase tracking-[0.35em] text-zinc-500 dark:text-zinc-400">
            Map goes here
          </p>
        </div>
      </div>
    </section>
  </div>
</AdminLayout>
